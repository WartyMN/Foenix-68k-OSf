<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Foenix A2650 OS/f Library: font.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Foenix A2650 OS/f Library
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('font_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">font.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;mcp/syscalls.h&gt;</code><br />
<code>#include &quot;a2560k.h&quot;</code><br />
</div>
<p><a href="font_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_font.html">Font</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This <a class="el" href="struct_font.html" title="This Font object is essentially the Mac &quot;fontRecord&quot; struct, with added pointers for the data tables.">Font</a> object is essentially the Mac "fontRecord" struct, with added pointers for the data tables.  <a href="struct_font.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a360f820240b09b10c01c03670ab40df4"><td class="memItemLeft" align="right" valign="top"><a id="a360f820240b09b10c01c03670ab40df4" name="a360f820240b09b10c01c03670ab40df4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FONT_RECORD_SIZE</b>&#160;&#160;&#160;26</td></tr>
<tr class="memdesc:a360f820240b09b10c01c03670ab40df4"><td class="mdescLeft">&#160;</td><td class="mdescRight">size, in bytes, of the font record (minus tables) as stored in Mac FONT resources <br /></td></tr>
<tr class="separator:a360f820240b09b10c01c03670ab40df4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c5f6383ecb01b0a52798654f144d771"><td class="memItemLeft" align="right" valign="top"><a id="a4c5f6383ecb01b0a52798654f144d771" name="a4c5f6383ecb01b0a52798654f144d771"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FONT_CHAR_FOENIX_OUTLINE</b>&#160;&#160;&#160;0x11</td></tr>
<tr class="memdesc:a4c5f6383ecb01b0a52798654f144d771"><td class="mdescLeft">&#160;</td><td class="mdescRight">the outlined Foenix character <br /></td></tr>
<tr class="separator:a4c5f6383ecb01b0a52798654f144d771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b81847c957d647dda25a934e6762fb3"><td class="memItemLeft" align="right" valign="top"><a id="a2b81847c957d647dda25a934e6762fb3" name="a2b81847c957d647dda25a934e6762fb3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FONT_CHAR_CHECKMARK</b>&#160;&#160;&#160;0x12</td></tr>
<tr class="memdesc:a2b81847c957d647dda25a934e6762fb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">the checkmark character <br /></td></tr>
<tr class="separator:a2b81847c957d647dda25a934e6762fb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8ef4f0b7fc603417865ec3f52328a89"><td class="memItemLeft" align="right" valign="top"><a id="aa8ef4f0b7fc603417865ec3f52328a89" name="aa8ef4f0b7fc603417865ec3f52328a89"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FONT_CHAR_DIAMOND</b>&#160;&#160;&#160;0x13</td></tr>
<tr class="memdesc:aa8ef4f0b7fc603417865ec3f52328a89"><td class="mdescLeft">&#160;</td><td class="mdescRight">the diamond character <br /></td></tr>
<tr class="separator:aa8ef4f0b7fc603417865ec3f52328a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4674c5f7dcba8e34f99cb0fc78d1f31"><td class="memItemLeft" align="right" valign="top"><a id="ac4674c5f7dcba8e34f99cb0fc78d1f31" name="ac4674c5f7dcba8e34f99cb0fc78d1f31"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FONT_CHAR_FOENIX_REG</b>&#160;&#160;&#160;0x14</td></tr>
<tr class="memdesc:ac4674c5f7dcba8e34f99cb0fc78d1f31"><td class="mdescLeft">&#160;</td><td class="mdescRight">the non-outlined Foenix character <br /></td></tr>
<tr class="separator:ac4674c5f7dcba8e34f99cb0fc78d1f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58e9af9e42aca39a83c575c89b614fde"><td class="memItemLeft" align="right" valign="top"><a id="a58e9af9e42aca39a83c575c89b614fde" name="a58e9af9e42aca39a83c575c89b614fde"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FONT_CHAR_MENU_RIGHT</b>&#160;&#160;&#160;0x15</td></tr>
<tr class="memdesc:a58e9af9e42aca39a83c575c89b614fde"><td class="mdescLeft">&#160;</td><td class="mdescRight">the '&gt;' style character for use in showing submenus <br /></td></tr>
<tr class="separator:a58e9af9e42aca39a83c575c89b614fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d3ae18367d8554a72132eea5b1b30d"><td class="memItemLeft" align="right" valign="top"><a id="aa4d3ae18367d8554a72132eea5b1b30d" name="aa4d3ae18367d8554a72132eea5b1b30d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FONT_CHAR_MENU_RIGHT_WIDTH</b>&#160;&#160;&#160;7</td></tr>
<tr class="memdesc:aa4d3ae18367d8554a72132eea5b1b30d"><td class="mdescLeft">&#160;</td><td class="mdescRight">the width, in pixels, of the standard '&gt;' for menu sub-menus. Every font is to use the same width, regardless of style or size. <br /></td></tr>
<tr class="separator:aa4d3ae18367d8554a72132eea5b1b30d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0bdb1d5ce7e6adc082415ff8ccc726ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_font.html">Font</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="font_8h.html#a0bdb1d5ce7e6adc082415ff8ccc726ae">Font_New</a> (uint8_t *the_data, uint16_t data_size)</td></tr>
<tr class="memdesc:a0bdb1d5ce7e6adc082415ff8ccc726ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="struct_font.html" title="This Font object is essentially the Mac &quot;fontRecord&quot; struct, with added pointers for the data tables.">Font</a> object, and populate it from the passed buffer.  <a href="font_8h.html#a0bdb1d5ce7e6adc082415ff8ccc726ae">More...</a><br /></td></tr>
<tr class="separator:a0bdb1d5ce7e6adc082415ff8ccc726ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a686a20dc5410653f6b957a1ce8178415"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="font_8h.html#a686a20dc5410653f6b957a1ce8178415">Font_Destroy</a> (<a class="el" href="struct_font.html">Font</a> **the_font)</td></tr>
<tr class="separator:a686a20dc5410653f6b957a1ce8178415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3399c30307c48856ae99bc77e8f67c8e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="font_8h.html#a3399c30307c48856ae99bc77e8f67c8e">Font_DrawStringInBox</a> (<a class="el" href="struct_bitmap.html">Bitmap</a> *the_bitmap, int16_t width, int16_t height, char *the_string, int16_t num_chars, char **wrap_buffer, bool(*continue_function)(void))</td></tr>
<tr class="memdesc:a3399c30307c48856ae99bc77e8f67c8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a string in a rectangular block on the screen, with wrap.  <a href="font_8h.html#a3399c30307c48856ae99bc77e8f67c8e">More...</a><br /></td></tr>
<tr class="separator:a3399c30307c48856ae99bc77e8f67c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d7cf8da78f6b772ec84b5433c3745b2"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="font_8h.html#a7d7cf8da78f6b772ec84b5433c3745b2">Font_MeasureStringWidth</a> (<a class="el" href="struct_font.html">Font</a> *the_font, char *the_string, int16_t num_chars, int16_t available_width, int16_t fixed_char_width, int16_t *measured_width)</td></tr>
<tr class="memdesc:a7d7cf8da78f6b772ec84b5433c3745b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates how many characters of the passed string will fit into the passed pixel width.  <a href="font_8h.html#a7d7cf8da78f6b772ec84b5433c3745b2">More...</a><br /></td></tr>
<tr class="separator:a7d7cf8da78f6b772ec84b5433c3745b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add7dcd485eecebbae1f154f31106c76c"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="font_8h.html#add7dcd485eecebbae1f154f31106c76c">Font_DrawChar</a> (<a class="el" href="struct_bitmap.html">Bitmap</a> *the_bitmap, uint8_t the_char, <a class="el" href="struct_font.html">Font</a> *the_font)</td></tr>
<tr class="memdesc:add7dcd485eecebbae1f154f31106c76c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw one character on the bitmap, at the current bitmap pen coordinates NOTE: if the draw action is successful, the bitmap's current pen position will be updated in preparation for the next character draw.  <a href="font_8h.html#add7dcd485eecebbae1f154f31106c76c">More...</a><br /></td></tr>
<tr class="separator:add7dcd485eecebbae1f154f31106c76c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a686a20dc5410653f6b957a1ce8178415" name="a686a20dc5410653f6b957a1ce8178415"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a686a20dc5410653f6b957a1ce8178415">&#9670;&#160;</a></span>Font_Destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Font_Destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_font.html">Font</a> **&#160;</td>
          <td class="paramname"><em>the_font</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">the_template</td><td>&ndash; pointer to the pointer for the <a class="el" href="struct_font.html" title="This Font object is essentially the Mac &quot;fontRecord&quot; struct, with added pointers for the data tables.">Font</a> object to be destroyed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns false if the pointer to the passed <a class="el" href="struct_font.html" title="This Font object is essentially the Mac &quot;fontRecord&quot; struct, with added pointers for the data tables.">Font</a> was NULL </dd></dl>

</div>
</div>
<a id="add7dcd485eecebbae1f154f31106c76c" name="add7dcd485eecebbae1f154f31106c76c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add7dcd485eecebbae1f154f31106c76c">&#9670;&#160;</a></span>Font_DrawChar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t Font_DrawChar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bitmap.html">Bitmap</a> *&#160;</td>
          <td class="paramname"><em>the_bitmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>the_char</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_font.html">Font</a> *&#160;</td>
          <td class="paramname"><em>the_font</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw one character on the bitmap, at the current bitmap pen coordinates NOTE: if the draw action is successful, the bitmap's current pen position will be updated in preparation for the next character draw. </p>
<p >TODO: stop passing <a class="el" href="struct_font.html" title="This Font object is essentially the Mac &quot;fontRecord&quot; struct, with added pointers for the data tables.">Font</a>, and have the concept of a current font for a given bitmap. and maybe a default system font. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">the_bitmap</td><td>&ndash; reference to a valid <a class="el" href="struct_bitmap.html">Bitmap</a> object. </td></tr>
    <tr><td class="paramname">the_font</td><td>&ndash; reference to a complete, loaded <a class="el" href="struct_font.html" title="This Font object is essentially the Mac &quot;fontRecord&quot; struct, with added pointers for the data tables.">Font</a> object. If the passed <a class="el" href="struct_font.html" title="This Font object is essentially the Mac &quot;fontRecord&quot; struct, with added pointers for the data tables.">Font</a> object is NULL, the font associated with the <a class="el" href="struct_bitmap.html">Bitmap</a> object passed will be used instead. If the <a class="el" href="struct_bitmap.html">Bitmap</a> does not have a font, the function will return an error. </td></tr>
    <tr><td class="paramname">the_char</td><td>&ndash; the character to be drawn. If the character does not exist in the font, the font's "missing glyph" character will be used instead. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns number of horizontal pixels used, including left/right offsets, or -1 on any error condition. </dd></dl>

</div>
</div>
<a id="a3399c30307c48856ae99bc77e8f67c8e" name="a3399c30307c48856ae99bc77e8f67c8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3399c30307c48856ae99bc77e8f67c8e">&#9670;&#160;</a></span>Font_DrawStringInBox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * Font_DrawStringInBox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bitmap.html">Bitmap</a> *&#160;</td>
          <td class="paramname"><em>the_bitmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>the_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>num_chars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>wrap_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool(*)(void)&#160;</td>
          <td class="paramname"><em>continue_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a string in a rectangular block on the screen, with wrap. </p>
<p >The current font, pen location, and pen color of the bitmap will be used If a word can't be wrapped, it will break the word and move on to the next line. So if you pass a rect with 1 char of width, it will draw a vertical line of chars down the screen. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">the_bitmap</td><td>&ndash; a valid <a class="el" href="struct_bitmap.html">Bitmap</a> object, with a valid font_ property </td></tr>
    <tr><td class="paramname">width</td><td>&ndash; the horizontal size of the text wrap box, in pixels. The total of 'width' and the current X coord of the bitmap must not be greater than width of the bitmap. </td></tr>
    <tr><td class="paramname">height</td><td>&ndash; the vertical size of the text wrap box, in pixels. The total of 'height' and the current Y coord of the bitmap must not be greater than height of the bitmap. </td></tr>
    <tr><td class="paramname">the_string</td><td>&ndash; the null-terminated string to be displayed. </td></tr>
    <tr><td class="paramname">num_chars</td><td>&ndash; either the length of the passed string, or as much of the string as should be displayed. Passing GEN_NO_STRLEN_CAP will mean it will attempt to display the entire string if it fits. </td></tr>
    <tr><td class="paramname">wrap_buffer</td><td>&ndash; pointer to a pointer to a temporary text buffer that can be used to hold the wrapped ('formatted') characters. The buffer must be large enough to hold num_chars of incoming text, plus additional line break characters where necessary. </td></tr>
    <tr><td class="paramname">continue_function</td><td>&ndash; optional hook to a function that will be called if the provided text cannot fit into the specified box. If provided, the function will be called each time text exceeds available space. If the function returns true, another chunk of text will be displayed, replacing the first. If the function returns false, processing will stop. If no function is provided, processing will stop at the point text exceeds the available space. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns a pointer to the first character in the string after which it stopped processing (if string is too long to be displayed in its entirety). Returns the original string if the entire string was processed successfully. Returns NULL in the event of any error. </dd></dl>

</div>
</div>
<a id="a7d7cf8da78f6b772ec84b5433c3745b2" name="a7d7cf8da78f6b772ec84b5433c3745b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d7cf8da78f6b772ec84b5433c3745b2">&#9670;&#160;</a></span>Font_MeasureStringWidth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t Font_MeasureStringWidth </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_font.html">Font</a> *&#160;</td>
          <td class="paramname"><em>the_font</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>the_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>num_chars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>available_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>fixed_char_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>measured_width</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates how many characters of the passed string will fit into the passed pixel width. </p>
<p >The current font of the bitmap will be used as the basis for calculating fit. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">the_font</td><td>&ndash; reference to a complete, loaded <a class="el" href="struct_font.html" title="This Font object is essentially the Mac &quot;fontRecord&quot; struct, with added pointers for the data tables.">Font</a> object. </td></tr>
    <tr><td class="paramname">the_string</td><td>&ndash; the null-terminated string to be measured. </td></tr>
    <tr><td class="paramname">num_chars</td><td>&ndash; either the length of the passed string, or as much of the string as should be displayed. Passing GEN_NO_STRLEN_CAP will mean it will attempt to measure the entire string. </td></tr>
    <tr><td class="paramname">available_width</td><td>&ndash; the width, in pixels, of the space the string is to be measured against. </td></tr>
    <tr><td class="paramname">fixed_char_width</td><td>&ndash; the width, in pixels, of one character. This value will be ignored. It exists to keep text-mode text-wrapping compatible with bitmap-font text-wrapping. </td></tr>
    <tr><td class="paramname">measured_width</td><td>&ndash; the number of pixels needed to display the characters that fit into the available_width. If the entire string fit, this is the width in pixels of that string. If only X characters fit, it is the pixel width of those X characters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns -1 in any error condition, or the number of characters that fit. If the entire string fits, the passed len will be returned. </dd></dl>

</div>
</div>
<a id="a0bdb1d5ce7e6adc082415ff8ccc726ae" name="a0bdb1d5ce7e6adc082415ff8ccc726ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bdb1d5ce7e6adc082415ff8ccc726ae">&#9670;&#160;</a></span>Font_New()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_font.html">Font</a> * Font_New </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>the_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <a class="el" href="struct_font.html" title="This Font object is essentially the Mac &quot;fontRecord&quot; struct, with added pointers for the data tables.">Font</a> object, and populate it from the passed buffer. </p>
<p >NOTE: it is not possible to create a <a class="el" href="struct_font.html" title="This Font object is essentially the Mac &quot;fontRecord&quot; struct, with added pointers for the data tables.">Font</a> object without having a valid 'FONT' data chunk already in memory. NOTE: this allocates new memory for the font, and copies the font data to it from the passed buffer. It is not dependent on the data in the buffer after returning. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">the_data</td><td>&ndash; Must contain a valid Mac 'FONT' resource data hunk. </td></tr>
    <tr><td class="paramname">data_size</td><td>&ndash; Count of all bytes in the data buffer, including the font record and following font tables. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a new <a class="el" href="struct_font.html" title="This Font object is essentially the Mac &quot;fontRecord&quot; struct, with added pointers for the data tables.">Font</a> object. Returns NULL on any error condition. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="font_8h.html">font.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
